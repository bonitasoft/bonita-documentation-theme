<script async src="{{{uiRootPath}}}/js/vendor/asciinema-player.min.js"></script>
<script async src="{{{uiRootPath}}}/js/vendor/highlight.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="{{{uiRootPath}}}/js/site.js"></script>

<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@1.7.1";

  !function (e, a, t, n, s, i, c) {
    e.AlgoliaAnalyticsObject = s, e[s] = e[s] || function () {
      (e[s].queue = e[s].queue || []).push(arguments)
    }, i = a.createElement(t), c = a.getElementsByTagName(t)[0],
      i.async = 1, i.src = n, c.parentNode.insertBefore(i, c)
  }(window, document, "script", ALGOLIA_INSIGHTS_SRC, "aa");
</script>

<script type="text/javascript">
  docsearch({
    apiKey: '16267f96d135c47df8454efd5b448c9a', // Read only API Key
    indexName: 'bonitasoft',
    inputSelector: '#search-query',
    debug: false, // Set debug to true if you want to inspect the dropdown
    algoliaOptions: {
      // Can't be extracted on a js file because facetFilters are valued by Antora at build time, only on html files!
      'facetFilters': ["version:{{page.version}}", "tags:{{page.component.name}}"],
      clickAnalytics: true,
      hitsPerPage: 20
    },
    handleSelected: function (input, event, suggestion, datasetNumber, context) {
      sendClickEvent(lastQueryID, lastQueryHits, suggestion);
      input.setVal('');
      window.location.assign(suggestion.url);
    },
    queryDataCallback: function (data) {
      lastQueryID = data.results[0].queryID;
      lastQueryHits = data.results[0].hits;
    }
  });

  aa('init', {
    appId: 'BH4D9OD16A',
    apiKey: '16267f96d135c47df8454efd5b448c9a',
  });
</script>

<script>
  // init toggle state
  if (localStorage.getItem('theme') === 'dark') {
    document.getElementById('check').checked = true
    document.getElementById('check-mobile').checked = true
  } else {
    document.getElementById('check').checked = false
    document.getElementById('check-mobile').checked = false
  }
</script>
